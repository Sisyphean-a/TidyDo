# å¼€å‘è€…æŒ‡å—

<cite>
**æœ¬æ–‡æ¡£å¼•ç”¨çš„æ–‡ä»¶**  
- [package.json](file://package.json)
- [README.md](file://README.md)
- [DEVELOPMENT.md](file://DEVELOPMENT.md)
- [CHANGELOG.md](file://CHANGELOG.md)
- [vite.config.js](file://vite.config.js)
- [tailwind.config.js](file://tailwind.config.js)
- [main.js](file://src/main.js)
- [todoService.js](file://src/services/todoService.js)
- [useTodosStore.js](file://src/stores/useTodosStore.js)
- [index.vue](file://src/views/tidyDo/index.vue)
- [TodoSidebar.vue](file://src/components/TodoSidebar.vue)
- [useDragSort.js](file://src/composables/useDragSort.js)
- [idGenerator.js](file://src/utils/idGenerator.js)
- [TodoEditDialog.vue](file://src/model/TodoEditDialog.vue)
- [index.js](file://src/router/index.js)
</cite>

## ç›®å½•
1. [ç®€ä»‹](#ç®€ä»‹)
2. [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
3. [å¼€å‘ç¯å¢ƒæ­å»º](#å¼€å‘ç¯å¢ƒæ­å»º)
4. [ä»£ç è§„èŒƒ](#ä»£ç è§„èŒƒ)
5. [åŠŸèƒ½å¼€å‘æµç¨‹](#åŠŸèƒ½å¼€å‘æµç¨‹)
6. [è°ƒè¯•æŠ€å·§ä¸å·¥å…·](#è°ƒè¯•æŠ€å·§ä¸å·¥å…·)
7. [è´¡çŒ®æµç¨‹](#è´¡çŒ®æµç¨‹)
8. [ç‰ˆæœ¬æ›´æ–°æ—¥å¿—](#ç‰ˆæœ¬æ›´æ–°æ—¥å¿—)

## ç®€ä»‹

TidyDo æ˜¯ä¸€ä¸ªåŸºäº Vue 3 + Vuetify æ„å»ºçš„ç°ä»£åŒ–å¾…åŠäº‹é¡¹ç®¡ç†åº”ç”¨ï¼Œæ”¯æŒ Web åº”ç”¨å’Œ Chrome æ‰©å±•ç­‰å¤šç§éƒ¨ç½²æ–¹å¼ã€‚æœ¬æŒ‡å—æ—¨åœ¨ä¸ºå¼€å‘è€…æä¾›ä»ç¯å¢ƒæ­å»ºåˆ°åŠŸèƒ½å¼€å‘çš„å®Œæ•´æµç¨‹è¯´æ˜ï¼Œå¸®åŠ©å¿«é€Ÿä¸Šæ‰‹å¹¶é«˜æ•ˆå‚ä¸é¡¹ç›®å¼€å‘ã€‚

**Section sources**
- [README.md](file://README.md#L0-L134)

## é¡¹ç›®ç»“æ„

TidyDo é‡‡ç”¨æ¸…æ™°çš„åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œå„ç›®å½•èŒè´£æ˜ç¡®ï¼š

```
TidyDo/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/              # é™æ€èµ„æº
â”‚   â”œâ”€â”€ components/         # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ composables/        # ç»„åˆå¼å‡½æ•° (UIçŠ¶æ€ç®¡ç†)
â”‚   â”œâ”€â”€ model/              # å¼¹çª—ç»„ä»¶
â”‚   â”œâ”€â”€ router/             # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ services/           # æœåŠ¡å±‚ (æ•°æ®æ“ä½œ)
â”‚   â”œâ”€â”€ stores/             # çŠ¶æ€ç®¡ç† (ä¸šåŠ¡é€»è¾‘)
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ views/              # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ App.vue             # æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ main.js             # Web åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ extension.js        # Chrome æ‰©å±•å…¥å£
â”‚   â””â”€â”€ popup.js            # å¼¹çª—é¡µé¢å…¥å£
â”œâ”€â”€ scripts/                # æ„å»ºè„šæœ¬
â”œâ”€â”€ manifest.json           # Chrome æ‰©å±•é…ç½®
â”œâ”€â”€ package.json           # é¡¹ç›®é…ç½®
â”œâ”€â”€ CHANGELOG.md           # æ›´æ–°æ—¥å¿—
â””â”€â”€ DEVELOPMENT.md         # å¼€å‘è€…æ–‡æ¡£
```

```mermaid
graph TD
A[Vue Components Layer] --> B[Composables Layer]
B --> C[Pinia Stores Layer]
C --> D[Services Layer]
D --> E[Utils Layer]
E --> F[IndexedDB Storage]
```

**Diagram sources**
- [DEVELOPMENT.md](file://DEVELOPMENT.md#L20-L100)

**Section sources**
- [DEVELOPMENT.md](file://DEVELOPMENT.md#L101-L200)

## å¼€å‘ç¯å¢ƒæ­å»º

### ç¯å¢ƒè¦æ±‚

- **Node.js** >= 16.0.0
- **npm** >= 7.0.0 æˆ– **yarn** >= 1.22.0
- **ç°ä»£æµè§ˆå™¨** æ”¯æŒ ES2020+ å’Œ IndexedDB

### å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨ npm
npm install

# æˆ–ä½¿ç”¨ yarn
yarn install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å¯åŠ¨å¼€å‘æ¨¡å¼
npm run dev
# è®¿é—® http://localhost:5173

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»ºWebåº”ç”¨
npm run build

# æ„å»ºChromeæ‰©å±•
npm run build:extension
```

**Section sources**
- [README.md](file://README.md#L100-L134)
- [package.json](file://package.json#L4-L12)
- [vite.config.js](file://vite.config.js#L1-L42)

## ä»£ç è§„èŒƒ

### å‘½åçº¦å®š

- **ç»„ä»¶**: PascalCase (`TodoEditDialog.vue`)
- **æ–‡ä»¶**: camelCase (`useConfig.js`)
- **æ–¹æ³•**: åŠ¨è¯å¼€å¤´ (`createTodo`, `updateStatus`)
- **å¸¸é‡**: UPPER_SNAKE_CASE (`CONFIG_KEY`)
- **ç§æœ‰æ–¹æ³•**: å‰ç¼€ä¸‹åˆ’çº¿ (`_initializeState`)

### æ–‡ä»¶ç»„ç»‡

```javascript
// 1. å¯¼å…¥é¡ºåº
import { ref, computed } from 'vue'           // Vue ç›¸å…³
import { defineStore } from 'pinia'           // ç¬¬ä¸‰æ–¹åº“
import { TodoService } from '@/services'      // é¡¹ç›®å†…éƒ¨æ¨¡å—
import { withErrorHandling } from '@/utils'   // å·¥å…·å‡½æ•°

// 2. ç±»å‹å®šä¹‰ï¼ˆJSDocï¼‰
/**
 * åˆ›å»ºå¾…åŠäº‹é¡¹
 * @param {Object} todoData - å¾…åŠæ•°æ®
 * @param {string} todoData.title - æ ‡é¢˜
 * @returns {Promise<Object>} åˆ›å»ºçš„å¾…åŠå¯¹è±¡
 */

// 3. ä¸»è¦é€»è¾‘
export const useTodoStore = defineStore('todos', () => {
  // çŠ¶æ€å®šä¹‰
  const todos = ref([])

  // è®¡ç®—å±æ€§
  const activeTodos = computed(() => ...)

  // æ–¹æ³•å®šä¹‰
  const createTodo = withErrorHandling(async (todoData) => {
    // å®ç°é€»è¾‘
  }, 'åˆ›å»ºå¾…åŠ', ErrorTypes.BUSINESS)

  return { todos, activeTodos, createTodo }
})
```

### JSDoc æ³¨é‡Šæ ‡å‡†

æ‰€æœ‰å…³é”®å‡½æ•°éƒ½åº”ä½¿ç”¨ JSDoc è¿›è¡Œæ³¨é‡Šï¼ŒåŒ…æ‹¬å‚æ•°ç±»å‹ã€è¿”å›å€¼ç±»å‹å’ŒåŠŸèƒ½æè¿°ã€‚ä¾‹å¦‚ï¼š

```javascript
/**
 * åˆ›å»ºåˆ†ç±»æ•°æ®ç»“æ„
 * @param {string} id - åˆ†ç±»ID
 * @param {string} name - åˆ†ç±»åç§°
 * @param {string} icon - åˆ†ç±»å›¾æ ‡ï¼Œé»˜è®¤ä¸º'mdi-folder'
 * @returns {Object} åˆ†ç±»å¯¹è±¡
 */
```

**Section sources**
- [DEVELOPMENT.md](file://DEVELOPMENT.md#L600-L700)
- [todoService.js](file://src/services/todoService.js#L10-L30)

## åŠŸèƒ½å¼€å‘æµç¨‹

### æ–°å¢åŠŸèƒ½å¼€å‘æµç¨‹å›¾

```mermaid
graph LR
A[éœ€æ±‚åˆ†æ] --> B[æ•°æ®ç»“æ„è®¾è®¡]
B --> C[Serviceå±‚å®ç°]
C --> D[Storeå±‚çŠ¶æ€ç®¡ç†]
D --> E[Composableå±‚å°è£…]
E --> F[ç»„ä»¶å±‚å¼€å‘]
F --> G[æµ‹è¯•éªŒè¯]
```

**Diagram sources**
- [DEVELOPMENT.md](file://DEVELOPMENT.md#L500-L510)

### æ•°æ®å±‚å¼€å‘

åœ¨ `services/` ç›®å½•ä¸­æ·»åŠ æ•°æ®æ“ä½œæ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œåœ¨ `todoService.js` ä¸­å®ç° CRUD æ“ä½œï¼š

```javascript
export class TodoItemService {
  static getAll = withErrorHandling(async () => {
    const items = (await get(TODO_ITEMS_KEY)) || []
    return items
  }, 'è·å–å¾…åŠäº‹é¡¹åˆ—è¡¨', ErrorTypes.STORAGE)
}
```

### çŠ¶æ€å±‚å¼€å‘

åœ¨å¯¹åº”çš„ Store ä¸­æ·»åŠ çŠ¶æ€å’Œ actionsã€‚ä¾‹å¦‚ï¼Œåœ¨ `useTodosStore.js` ä¸­ç®¡ç†å¾…åŠäº‹é¡¹çŠ¶æ€ï¼š

```javascript
export const useTodosStore = defineStore('todos', () => {
  const todos = ref([])
  const isLoading = ref(false)
  
  const loadTodos = async () => {
    try {
      isLoading.value = true
      todos.value = await TodoItemService.getAll()
    } catch (error) {
      console.error('Load todos error:', error)
      throw error
    } finally {
      isLoading.value = false
    }
  }
  
  return { todos, isLoading, loadTodos }
})
```

### ç»„ä»¶å±‚å¼€å‘

åˆ›å»ºæˆ–ä¿®æ”¹ Vue ç»„ä»¶ï¼Œé€šè¿‡ Pinia Store è®¿é—®çŠ¶æ€ã€‚ä¾‹å¦‚ï¼Œåœ¨ `index.vue` ä¸­ä½¿ç”¨å¤šä¸ª Storeï¼š

```javascript
import { useTodosStore } from '@/stores/useTodosStore'
import { useCategoriesStore } from '@/stores/useCategoriesStore'
import { useAppStore } from '@/stores/useAppStore'

const todosStore = useTodosStore()
const categoriesStore = useCategoriesStore()
const appStore = useAppStore()
```

**Section sources**
- [DEVELOPMENT.md](file://DEVELOPMENT.md#L480-L520)
- [useTodosStore.js](file://src/stores/useTodosStore.js#L1-L20)
- [index.vue](file://src/views/tidyDo/index.vue#L1-L20)

## è°ƒè¯•æŠ€å·§ä¸å·¥å…·

### æµè§ˆå™¨è°ƒè¯•

- **Vue DevTools**: è°ƒè¯•ç»„ä»¶çŠ¶æ€å’Œ Pinia stores
- **IndexedDB**: åœ¨å¼€å‘è€…å·¥å…·ä¸­æŸ¥çœ‹å­˜å‚¨æ•°æ®
- **Network**: æ£€æŸ¥ç½‘ç»œè¯·æ±‚ï¼ˆå¦‚æœ‰ï¼‰
- **Console**: æŸ¥çœ‹é”™è¯¯æ—¥å¿—å’Œè°ƒè¯•ä¿¡æ¯

### å¼€å‘æŠ€å·§

```javascript
// 1. å¼€å‘ç¯å¢ƒè°ƒè¯•
if (process.env.NODE_ENV === 'development') {
  console.log('ğŸ› Debug info:', data)
}

// 2. æ€§èƒ½ç›‘æ§
console.time('æ•°æ®åŠ è½½')
await loadData()
console.timeEnd('æ•°æ®åŠ è½½')

// 3. çŠ¶æ€æ£€æŸ¥
const { isInitialized } = useConfig()
console.log('é…ç½®åˆå§‹åŒ–çŠ¶æ€:', isInitialized.value)
```

### é”™è¯¯å¤„ç†

ä½¿ç”¨ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼š

```javascript
import { withErrorHandling, ErrorTypes } from '@/utils/errorHandler'

static saveData = withErrorHandling(async (data) => {
  // ä¸šåŠ¡é€»è¾‘
}, 'ä¿å­˜æ•°æ®', ErrorTypes.STORAGE)
```

**Section sources**
- [DEVELOPMENT.md](file://DEVELOPMENT.md#L700-L760)
- [errorHandler.js](file://src/utils/errorHandler.js#L1-L10)

## è´¡çŒ®æµç¨‹

### å‚ä¸è´¡çŒ®

1. **Fork** é¡¹ç›®åˆ°ä½ çš„ GitHub è´¦æˆ·
2. **Clone** åˆ°æœ¬åœ°: `git clone [your-fork-url]`
3. **åˆ›å»ºåˆ†æ”¯**: `git checkout -b feature/amazing-feature`
4. **å¼€å‘åŠŸèƒ½**: éµå¾ªé¡¹ç›®çš„ä»£ç è§„èŒƒå’Œæ¶æ„è®¾è®¡
5. **æµ‹è¯•éªŒè¯**: ç¡®ä¿åŠŸèƒ½æ­£å¸¸ä¸”ä¸ç ´åç°æœ‰åŠŸèƒ½
6. **æäº¤ä»£ç **: `git commit -m 'feat: add amazing feature'`
7. **æ¨é€åˆ†æ”¯**: `git push origin feature/amazing-feature`
8. **åˆ›å»º PR**: åœ¨ GitHub ä¸Šåˆ›å»º Pull Request

### æäº¤è§„èŒƒ

ä½¿ç”¨ [Conventional Commits](https://conventionalcommits.org/) è§„èŒƒï¼š

```bash
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: ä»£ç é‡æ„
perf: æ€§èƒ½ä¼˜åŒ–
test: æµ‹è¯•ç›¸å…³
chore: æ„å»ºå·¥å…·æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
```

**Section sources**
- [DEVELOPMENT.md](file://DEVELOPMENT.md#L740-L760)
- [CHANGELOG.md](file://CHANGELOG.md#L180-L200)

## ç‰ˆæœ¬æ›´æ–°æ—¥å¿—

### v2.7.0 - æ•°æ®æŠ¥è¡¨åŠŸèƒ½ç‰ˆæœ¬

- âœ¨ **æ–°å¢æŠ¥è¡¨è§†å›¾** - åœ¨"æŸ¥çœ‹å…¨éƒ¨"æ¨¡å¼ä¸‹æ–°å¢ç¬¬å››ä¸ªè§†å›¾é€‰é¡¹ï¼Œæä¾›å…¨é¢çš„æ•°æ®åˆ†æå’Œå¯è§†åŒ–
- ğŸ“Š **å¤šç»´åº¦æ•°æ®ç»Ÿè®¡** - åŒ…æ‹¬é¡¹ç›®æ•°é‡ç»Ÿè®¡ã€çŠ¶æ€åˆ†å¸ƒåˆ†æã€å®Œæˆæƒ…å†µç»Ÿè®¡ã€æ—¶é—´è¶‹åŠ¿åˆ†æå’Œä¼˜å…ˆçº§åˆ†å¸ƒ
- ğŸ“ˆ **ECharts 5 å›¾è¡¨åº“** - é›†æˆä¸šç•Œé¢†å…ˆçš„å›¾è¡¨åº“ï¼Œæä¾›é«˜æ€§èƒ½å›¾è¡¨æ¸²æŸ“èƒ½åŠ›

### v2.6.0 - ç­›é€‰åŠŸèƒ½å¢å¼ºç‰ˆæœ¬

- âœ¨ **èŠ‚ç‚¹æ—¥æœŸç­›é€‰** - åœ¨åˆ†ç±»ç­›é€‰æ¡ä»¶ä¸­æ–°å¢èŠ‚ç‚¹æ—¥æœŸèŒƒå›´ç­›é€‰ï¼Œæ”¯æŒæŒ‰èŠ‚ç‚¹æ—¥æœŸè¿‡æ»¤å¾…åŠäº‹é¡¹
- ğŸ” **ç­›é€‰UIä¼˜åŒ–** - åœ¨åˆ†ç±»ç¼–è¾‘å¯¹è¯æ¡†ä¸­æ·»åŠ èŠ‚ç‚¹æ—¥æœŸç­›é€‰å­—æ®µï¼Œä¸æˆªæ­¢æ—¥æœŸç­›é€‰ä¿æŒä¸€è‡´çš„UIé£æ ¼

### v2.5.0 - èŠ‚ç‚¹æ—¥æœŸåŠŸèƒ½ç‰ˆæœ¬

- âœ¨ **æ–°å¢èŠ‚ç‚¹æ—¥æœŸå­—æ®µ** - ä¸ºå¾…åŠäº‹é¡¹æ·»åŠ èŠ‚ç‚¹æ—¥æœŸï¼Œç”¨äºæ ‡è®°é¡¹ç›®å…³é”®æ—¶é—´èŠ‚ç‚¹
- ğŸ“Š **è¡¨æ ¼è§†å›¾ä¼˜åŒ–** - åœ¨æˆªæ­¢æ—¥æœŸå‰æ–°å¢èŠ‚ç‚¹æ—¥æœŸåˆ—ï¼Œé‡æ–°è°ƒæ•´åˆ—å®½åº¦ç¡®ä¿å•è¡Œæ˜¾ç¤º

### v2.4.0 - æ‹–æ‹½åŠŸèƒ½ä¼˜åŒ–ç‰ˆæœ¬

- âœ¨ **VueDraggablePlusé›†æˆ** - ä½¿ç”¨æˆç†Ÿçš„æ‹–æ‹½åº“æ›¿æ¢è‡ªå®šä¹‰å®ç°ï¼Œæå‡ç¨³å®šæ€§å’Œæµç•…æ€§
- ğŸ–±ï¸ **ä¾§è¾¹æ åˆ†ç±»æ‹–æ‹½ä¼˜åŒ–** - ä¿æŒé•¿æŒ‰å¯åŠ¨æœºåˆ¶ï¼Œå¢å¼ºè§†è§‰åé¦ˆå’ŒåŠ¨ç”»æ•ˆæœ

### v2.3.0 - ç®€å•Todoç‰ˆæœ¬

- âœ¨ **æ–°å¢ç®€å•Todoå¤§ç±»** - ç¬¬ä¸‰ç§åˆ†ç±»ç±»å‹ï¼Œä¸“ä¸ºè½»é‡çº§ä»»åŠ¡ç®¡ç†è®¾è®¡
- ğŸ¨ **å››è±¡é™è§†å›¾** - é‡‡ç”¨2x2ç½‘æ ¼å¸ƒå±€ï¼Œç›´è§‚å±•ç¤ºå¾…åŠ/è¿›è¡Œä¸­/å·²å®Œæˆ/æš‚åœå››ç§çŠ¶æ€

**Section sources**
- [CHANGELOG.md](file://CHANGELOG.md#L0-L180)